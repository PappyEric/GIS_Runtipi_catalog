{
    "version": "3.7",
    "services": {
        "anythingllm": {
            "image": "mintplexlabs/anythingllm:master",
            "container_name": "anythingllm",
            "restart": "unless-stopped",
            "ports": [
                "${APP_PORT}:3001"
            ],
            "environment": [
                "STORAGE_DIR=/app/server/storage",
                "OLLAMA_BASE_URL=http://ollama:11434",
                "DB_provider=postgres",
                "DB_host=gis-postgres",
                "DB_port=5432",
                "DB_user=tipi",
                "DB_password=password",
                "DB_database=gis"
            ],
            "volumes": [
                "${APP_DATA_DIR}/anythingllm:/app/server/storage"
            ],
            "depends_on": [
                "ollama",
                "gis-postgres"
            ],
            "networks": [
                "runtipi_network"
            ]
        },
        "ollama": {
            "image": "ollama/ollama:latest",
            "container_name": "ollama",
            "restart": "unless-stopped",
            "volumes": [
                "${APP_DATA_DIR}/ollama:/root/.ollama"
            ],
            "networks": [
                "runtipi_network"
            ]
        }
    },
    "networks": {
        "runtipi_network": {
            "external": true
        }
    }
}